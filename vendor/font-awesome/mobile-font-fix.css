/* Mobile Font Awesome Optimization
 * 解决移动端图标不显示问题
 */

@media screen and (max-width: 768px) {
    /* 强制所有 Font Awesome 图标字体加载 */
    .fas, .fa-solid,
    .far, .fa-regular,
    .fab, .fa-brands {
        font-family: "Font Awesome 6 Free", "Font Awesome 6 Brands" !important;
        font-display: swap !important;
        -webkit-font-smoothing: antialiased;
        -moz-osx-font-smoothing: grayscale;
    }
    
    /* 确保图标容器有适当的尺寸 */
    .fas::before, .fa-solid::before,
    .far::before, .fa-regular::before,
    .fab::before, .fa-brands::before {
        display: inline-block !important;
        width: 1.25em;
        text-align: center;
    }
    
    /* 为移动端添加字体加载回退 */
    @font-face {
        font-family: "Font Awesome 6 Free";
        font-style: normal;
        font-weight: 900;
        font-display: swap;
        src: url(./webfonts/fa-solid-900.woff2) format("woff2"),
             url(./webfonts/fa-solid-900.ttf) format("truetype");
    }
    
    @font-face {
        font-family: "Font Awesome 6 Free";
        font-style: normal;
        font-weight: 400;
        font-display: swap;
        src: url(./webfonts/fa-regular-400.woff2) format("woff2"),
             url(./webfonts/fa-regular-400.ttf) format("truetype");
    }
    
    @font-face {
        font-family: "Font Awesome 6 Brands";
        font-style: normal;
        font-weight: 400;
        font-display: swap;
        src: url(./webfonts/fa-brands-400.woff2) format("woff2"),
             url(./webfonts/fa-brands-400.ttf) format("truetype");
    }
}

/* iOS Safari 特殊修复 */
@supports (-webkit-appearance: none) {
    .fas, .fa-solid,
    .far, .fa-regular,
    .fab, .fa-brands {
        -webkit-font-feature-settings: normal !important;
        font-feature-settings: normal !important;
    }
}

/* Android Chrome 特殊修复 */
@media screen and (-webkit-min-device-pixel-ratio: 1) {
    .fas, .fa-solid,
    .far, .fa-regular,
    .fab, .fa-brands {
        text-rendering: optimizeLegibility !important;
    }
}
